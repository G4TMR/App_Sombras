<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campanhas | Sombras do Abismo</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body data-page="campanhas">
    <div class="background-overlay"></div>
    <div id="header-placeholder"></div>

    <main class="main-content">
        <div class="horizontal-container">
            <section class="content-section">
                <div class="content-box">
                    <h2>Campanhas</h2>
                    <p class="info-text">Gerencie suas campanhas de terror e investigação. Organize sessões, acompanhe o progresso dos jogadores e mantenha o controle narrativo de suas histórias.</p>
                    
                    <div class="campaigns-container">
                        <div class="content-box" id="joined-campaigns-section" style="display: none; margin-bottom: 2rem;">
                            <h2>Campanhas Incluídas</h2>
                            <p class="info-text">Campanhas em que você está participando como jogador.</p>
                            <div class="campaigns-grid" id="joined-campaigns-grid"></div>
                            <div class="empty-state" id="empty-joined-campaigns" style="display: none;">
                                <p class="empty-message">Você não está em nenhuma campanha ainda.</p>
                                <p class="empty-submessage">Peça um código de convite ao seu Mestre!</p>
                            </div>
                        </div>

                        <div class="content-box" id="my-campaigns-section">
                            <h2>Minhas Campanhas</h2>
                            <p class="info-text">Campanhas criadas e gerenciadas por você.</p>
                            <div class="campaigns-grid" id="my-campaigns-grid"></div>
                            <!-- NOVO: Indicador de Carregamento -->
                            <div class="loading-state" id="my-campaigns-loading">
                                <div class="loader"></div>
                                <p class="loading-message">Carregando suas campanhas...</p>
                            </div>
                            <div class="empty-state" id="empty-my-campaigns" style="display: none;">
                                <p class="empty-message">Nenhuma campanha criada ainda.</p>
                                <p class="empty-submessage">Crie sua primeira campanha para começar a narrar!</p>
                                <button class="create-campaign-btn" onclick="window.location.href='criar-campanha.html'"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14m-7-7h14"/></svg>Criar Nova Campanha</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="content-section">
                <div class="content-box">
                    <h2>Ferramentas do Mestre</h2>
                    <div class="tools-grid">
                        <div class="tool-card">
                            <h3>Entrar em uma Campanha</h3>
                            <p>Possui um código de convite? Insira-o abaixo para se juntar a uma nova aventura.</p>
                            <form id="join-campaign-form" class="join-campaign-form">
                                <input type="text" id="join-code-input" placeholder="SDA-XXXX" required>
                                <button type="submit" class="wizard-btn">
                                    <span class="btn-text">Entrar</span>
                                </button>
                            </form>
                        </div>
                        <div class="tool-card">
                            <h3>Gerador de NPCs</h3>
                            <p>Crie personagens não-jogáveis únicos para suas campanhas.</p>
                            <button class="wizard-btn" onclick="alert('Em desenvolvimento!')">Usar Ferramenta</button>
                        </div>
                        <div class="tool-card">
                            <h3>Gerador de Mistérios</h3>
                            <p>Gere mistérios e investigações para suas sessões.</p>
                            <button class="wizard-btn" onclick="alert('Em desenvolvimento!')">Usar Ferramenta</button>
                        </div>
                        <div class="tool-card">
                            <h3>Controle de Sanidade</h3>
                            <p>Acompanhe a sanidade mental dos agentes durante as sessões.</p>
                            <button class="wizard-btn" onclick="alert('Em desenvolvimento!')">Usar Ferramenta</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="script.js"></script>
</body>
</html>